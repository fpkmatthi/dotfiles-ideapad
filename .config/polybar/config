; Colors {{{
[colors]
peach = #ffcd98
lime = #cadc79
salmon = #d97464
darkgrey = #2e2e2e
lightgrey = #444444
alert = #bd2c40

; Colors generated by pywal {{{
xcolor0 = ${xrdb:color0}
xcolor1 = ${xrdb:color1}
xcolor2 = ${xrdb:color2}
xcolor3 = ${xrdb:color3}
xcolor4 = ${xrdb:color4}
xcolor5 = ${xrdb:color5}
xcolor6 = ${xrdb:color6}
xcolor7 = ${xrdb:color7}
xcolor8 = ${xrdb:color8}
xcolor9 = ${xrdb:color9}
xcolor10 = ${xrdb:color10}
xcolor11 = ${xrdb:color11}
xcolor12 = ${xrdb:color12}
xcolor13 = ${xrdb:color13}
xcolor14 = ${xrdb:color14}
xcolor15 = ${xrdb:color15}
background = ${xrdb:background}
foreground = ${xrdb:foreground}
foreground-alt = ${xrdb:color7}
# }}}
; }}}

; Bar settings {{{
[bar/main]
; Bar layout {{{
monitor = ${env:MONITOR:eDP1}
width = 96%
height = 23
offset-x = 2%
offset-y = 1%
bottom=false
fixed-center = true
background = ${colors.xcolor0}
foreground = ${colors.xcolor1}

overline-size = 0
overline-color = ${colors.xcolor7}
underline-size = 0
underline-color = ${colors.xcolor7}

border-bottom-size = 0
border-bottom-color = ${colors.xcolor7}
border-top-size = 0
border-top-color = ${colors.xcolor7}
border-color-foreground = ${colors.peach}

spacing = 0
radius = 5.0
padding-left = 0
padding-right = 0
;label-padding = 2
module-margin-left = 0
module-margin-right = 0
; }}}

; Fonts {{{
;font-0 = Inconsolata:size=12:style=Bold
font-0 = "Weather Icons:pixelsize=11;1"
font-1 = "DejaVuSansMono Nerd Font:pixelsize=11;2"
font-2 = "Hack Nerd Font:pixelsize=15;3"
font-3 = "Hack Nerd Font:pixelsize=16;4"
font-4 = "Hack Nerd Font:pixelsize=18;7"
; }}}

; Tray {{{
tray-position = left
tray-padding = 2
tray-maxsize = 24
;tray-offset-x = 21%
tray-foreground = ${colors.xcolor7}
tray-background = ${colors.xcolor1}

wm-restack = bspwm
;override-redirect = true
scroll-up = bspwm-desknext
scroll-down = bspwm-deskprev
; }}}

; Module layout {{{
modules-left = bspwm RightArrow3 filesystem ;mpd RightArrow2 ;xwindow
modules-center = ;MiddleArrowLeft date ;MiddleArrowRight 
modules-right = system-usb-udev LeftStripe1 updates-arch-combined LeftArrow3 alsa LeftArrow1 nordvpn LeftArrow3 network-networkmanager LeftArrow1 memory LeftArrow3 cpu LeftArrow1 battery LeftArrow3 powermenu
# }}}

; Cursor layout {{{
cursor-click = pointer
; }}}
; }}}

; Bspwm settings {{{
; General {{{
[module/bspwm]
type = internal/bspwm
; Only show workspaces defined on the same output as the bar
pin-workspaces = true

; Create click handler used to focus workspace
enable-click = true

; Create scroll handlers used to cycle workspaces
enable-scroll = true

; Set the scroll cycle direction
reverse-scroll = false
; }}}

; Workspaces {{{
;    ● ○
;label-focused = %name%
;label-focused = %index%
label-focused = 
label-focused-foreground = ${colors.xcolor7}
label-focused-background = ${colors.xcolor1}
label-focused-padding = 1
label-focused-font = 1
label-occupied = 
label-occupied-foreground = ${colors.xcolor0}
label-occupied-background = ${colors.xcolor1}
label-occupied-padding = 1
label-occupied-font = 1
label-urgent = 
label-urgent-foreground = ${colors.xcolor4}
label-urgent-background = ${colors.xcolor1}
label-urgent-padding = 1
label-urgent-font = 1
label-empty = 
label-empty-foreground = ${colors.xcolor0}
label-empty-background = ${colors.xcolor1}
label-empty-padding = 1
label-empty-font = 1

; ws-icon-[0-9]+ = label;icon
; Note that the label needs to correspond with the bspwm workspace name
;ws-icon-0 = code;♚
;ws-icon-1 = office;♛
;ws-icon-2 = graphics;♜
;ws-icon-3 = mail;♝
;ws-icon-4 = web;♞
;ws-icon-default = ♟

; Separator in between workspaces
; label-separator = |
; }}}
; }}}

; Modules {{{
; Powerline separators {{{
[module/LeftStripe1]
type = custom/text
content = "%{T4}%{T-}"
content-foreground = ${colors.xcolor1}
content-background = ${colors.xcolor0}

[module/LeftStripe2]
type = custom/text
content = "%{T4}%{T-}"
content-foreground = ${colors.xcolor0}
content-background = ${colors.xcolor1}

[module/LeftArrow1]
type = custom/text
content = "%{T4}%{T-}"
content-foreground = ${colors.xcolor1}
content-background = ${colors.xcolor7}

[module/LeftArrow2]
type = custom/text
content = "%{T4}%{T-}"
content-foreground = ${colors.xcolor7}
content-background = ${colors.xcolor0}

[module/LeftArrow3]
type = custom/text
content = "%{T4}%{T-}"
content-foreground = ${colors.xcolor7}
content-background = ${colors.xcolor1}

[module/RightStripe]
type = custom/text
content = "%{T3}%{T-}"
content-foreground = ${colors.xcolor0}
content-background = ${colors.xcolor1}

[module/RightArrow1]
type = custom/text
content = "%{T3}%{T-}"
content-foreground = ${colors.xcolor1}
content-background = ${colors.xcolor0}

[module/RightArrow2]
type = custom/text
content = "%{T3}%{T-}"
content-foreground = ${colors.xcolor7}
content-background = ${colors.xcolor0}

[module/RightArrow3]
type = custom/text
content = "%{T3}%{T-}"
content-foreground = ${colors.xcolor1}
content-background = ${colors.xcolor7}

[module/MiddleArrowLeft]
;
type = custom/text
content = "%{T5}%{T-}"
content-foreground = ${colors.xcolor1}
content-background = ${colors.xcolor0}

[module/MiddleArrowRight]
;
type = custom/text
content = "%{T5}%{T-}"
content-foreground = ${colors.xcolor1}
content-background = ${colors.xcolor0}
; }}}

; Xwindow {{{
[module/xwindow]
type = internal/xwindow

label-font = 2
format-foreground = ${colors.xcolor1}
format-background = ${colors.xcolor0}

label = "» %title:0:40:...%"
; }}}

; MPD {{{
[module/mpd]
type = internal/mpd
format-online = <label-song>  <icon-prev> <icon-stop> <toggle> <icon-next>
format-online-foreground = ${colors.xcolor1}
format-online-background = ${colors.xcolor7}

label-font = 2
label-song-maxlen = 25
label-song-ellipsis = true

icon-stop = 
icon-play = 
icon-pause = 
icon-prev = 
icon-next = 

toggle-on-foreground = ${colors.primary}
toggle-off-foreground = #66
; }}}

; CPU {{{
[module/cpu]
type = internal/cpu
interval = 2
format-prefix = ""
label-font = 2
label = %percentage:2%%
format-foreground = ${colors.xcolor1}
format-background = ${colors.xcolor7}
; }}}

; RAM {{{
[module/memory]
type = internal/memory
interval = 2
format-prefix = " "
label-font = 2
label = %percentage_used%%
format-foreground = ${colors.xcolor7}
format-background = ${colors.xcolor1}
; }}}

; NetworkManager {{{
[module/network-networkmanager]
type = custom/script
exec = $HOME/.config/polybar/scripts/network-networkmanager.sh
click-left = $HOME/.config/rofi/bin/networkmenu
tail = true

label-font = 2
format-foreground = ${colors.xcolor1}
format-background = ${colors.xcolor7}
; }}}

; Filesystem {{{
[module/filesystem]
type = custom/script
exec = $HOME/.config/polybar/scripts/filesystem.sh
internal = 60

label-font = 2
format-foreground = ${colors.xcolor1}
format-background = ${colors.xcolor7}
; }}}

; Date {{{
[module/date]
type = internal/date
interval = 20

date = ""
time = %H:%M

date-alt = %d-%m-%Y
time-alt = %H:%M

label = %date% %time%

label-font = 2
format = "<label> "
format-foreground = ${colors.xcolor7}
format-background = ${colors.xcolor0}

; }}}

; Alsa {{{
[module/alsa]
type = internal/alsa

label-font = 2
; format-volume = "<label-volume> <bar-volume> "
format-volume = "<label-volume> "
label-volume = " 墳"
; label-volume-foreground = ${colors.xcolor7}
format-volume-foreground = ${colors.xcolor0}
format-volume-background = ${colors.xcolor7}

format-muted-prefix = " 婢"
; format-muted-foreground = ${colors.xcolor7}
format-muted-foreground = ${colors.xcolor0}
format-muted-background = ${colors.xcolor7}
label-muted = " " 

bar-volume-width = 10
bar-volume-foreground-0 = #55aa55
bar-volume-foreground-1 = #55aa55
bar-volume-foreground-2 = #55aa55
bar-volume-foreground-3 = #55aa55
bar-volume-foreground-4 = #55aa55
bar-volume-foreground-5 = #f5a70a
bar-volume-foreground-6 = #ff5555
bar-volume-gradient = false
bar-volume-indicator = 
bar-volume-indicator-font = 2
bar-volume-fill = ─
bar-volume-fill-font = 2
bar-volume-empty = ─
bar-volume-empty-font = 2
bar-volume-empty-foreground = ${colors.xcolor1}
; }}}

; Battery {{{
[module/battery]
type = internal/battery
battery = BAT0
adapter = ADP1
full-at = 98

time-format = %H:%M

label-font = 2
format-charging = <animation-charging> <label-charging>
format-charging-foreground = ${colors.xcolor7}
format-charging-background = ${colors.xcolor1}
label-charging-foreground = ${colors.xcolor7}

format-discharging = <ramp-capacity> <label-discharging>
format-discharging-background = ${colors.xcolor1}
format-discharging-foreground = ${colors.xcolor7}
label-discharging-foreground = ${colors.xcolor7}

format-full-prefix = " "
format-full-prefix-foreground = #60f542
format-full-foreground = ${colors.xcolor7}
format-full-background = ${colors.xcolor1}

green = #60f542
red = #f54242
orange = #f5bc42

ramp-capacity-0 = "%{F#f54242}%{F-}"
ramp-capacity-0-foreground = ${colors.xcolor4}
ramp-capacity-1 = "%{F#f54242}%{F-}"
ramp-capacity-1-foreground = ${colors.xcolor4}
ramp-capacity-2 = "%{F#f5bc42}%{F-}"
ramp-capacity-3 = "%{F#f5bc42}%{F-}"
ramp-capacity-4 = "%{F#f5bc42}%{F-}"
ramp-capacity-5 = "%{F#60f542}%{F-}"
ramp-capacity-6 = "%{F#60f542}%{F-}"
ramp-capacity-7 = "%{F#60f542}%{F-}"
ramp-capacity-8 = "%{F#60f542}%{F-}"
ramp-capacity-9 = "%{F#60f542}%{F-}"

animation-charging-0 = 
animation-charging-1 = 
animation-charging-2 =  
animation-charging-3 = 
animation-charging-foreground = ${colors.foreground-alt}
animation-charging-framerate = 750
; }}}

; Temperature {{{
[module/temperature]
type = internal/temperature
thermal-zone = 0
warn-temperature = 60

label-font = 2
format = <ramp> <label>
;format-underline = ${xrdb:color1:#f50a4d}
format-warn = <ramp> <label-warn>
;format-warn-underline = ${self.format-underline}

label = %temperature-c%
label-warn = %temperature-c%
label-warn-foreground = ${colors.secondary}

ramp-0 = 
ramp-1 = 
ramp-2 = 
ramp-foreground = ${colors.foreground-alt}
; }}}

; Powermenu {{{
[module/powermenu]
type = custom/text
; content = "⏼ "
content = " ⏻  "
; click-left = $HOME/.config/polybar/scripts/powermenu.sh
label-font = 2
click-left = $HOME/.config/rofi/bin/powermenu
content-foreground = ${colors.xcolor1}
content-background = ${colors.xcolor7}
; }}}

; Nordvpn {{{
[module/nordvpn]
type = custom/script
exec = $HOME/.config/polybar/scripts/vpn-nordvpn-status.sh --status
click-left = $HOME/.config/polybar/scripts/vpn-nordvpn-status.sh --switch
interval = 1
label-font = 2
format-foreground = ${colors.xcolor7}
format-background = ${colors.xcolor1}
; }}}

; Arch updates {{{
[module/updates-arch-combined]
type = custom/script
exec = $HOME/.config/polybar/scripts/updates-arch-combined.sh -u
click-left = $HOME/.config/polybar/scripts/updates-arch-combined.sh -o
interval = 600
label-font = 2
format-foreground = ${colors.xcolor7}
format-background = ${colors.xcolor1}
; }}}

; Weather {{{
[module/weather]
type = custom/script
exec = $HOME/.config/polybar/scripts/weather.sh -f 1
interval = 10

click-left = $HOME/.config/polybar/scripts/weather.sh -n 1
click-right = $HOME/.config/polybar/scripts/weather.sh -n 2
click-middle = $HOME/.config/polybar/scripts/weather.sh -n 3
double-click-left = $HOME/.config/polybar/scripts/weather.sh -t 1
double-click-right = $HOME/.config/polybar/scripts/weather.sh -t 2
double-click-middle = $HOME/.config/polybar/scripts/weather.sh -t 3

format = <label>
format-foreground = ${colors.xcolor1}
format-background = ${colors.xcolor7}
; }}}

; Openweather {{{
[module/openweather]
type = custom/script
exec = $HOME/.config/polybar/scripts/openweather.sh
interval = 600

label-font = 1
format = <label>
format-foreground = ${colors.xcolor1}
format-background = ${colors.xcolor7}
; }}}

; System usb dev {{{
[module/system-usb-udev]
type = custom/script
exec = $HOME/.config/polybar/scripts/system-usb-udev.sh
tail = true
label-font = 2
click-left = $HOME/.config/polybar/scripts/system-usb-udev.sh --mount
click-right = $HOME/.config/polybar/scripts/system-usb-udev.sh --unmount
; }}}


; Testing {{{
; Volume {{{
[module/volume]
type = internal/volume

master-soundcard = default
speaker-soundcard = default
headphone-soundcard = default
mapping = true

format-volume = <ramp-volume><label-volume>
;     

label-volume = %percentage%
label-volume-foreground = ${colors.xcolor7}
label-volume-background = ${colors.xcolor1}
label-muted = "  muted"
label-muted-foreground = ${colors.xcolor7}
label-muted-background = ${colors.xcolor1}

ramp-volume-0 = "  "
ramp-volume-0-foreground = ${colors.xcolor7}
ramp-volume-0-background = ${colors.xcolor1}
ramp-volume-1 = "  "
ramp-volume-1-foreground = ${colors.xcolor7}
ramp-volume-1-background = ${colors.xcolor1}
ramp-volume-2 = "  "
ramp-volume-2-foreground = ${colors.xcolor7}
ramp-volume-2-background = ${colors.xcolor1}
ramp-volume-3 = "  "
ramp-volume-3-foreground = ${colors.xcolor7}
ramp-volume-3-background = ${colors.xcolor1}

bar-volume-width = 10
bar-volume-background = #495858
bar-volume-foreground-0 = #55aa55
bar-volume-foreground-1 = #55aa55
bar-volume-foreground-2 = #55aa55
bar-volume-foreground-3 = #55aa55
bar-volume-foreground-4 = #55aa55
bar-volume-foreground-5 = #f5a70a
bar-volume-foreground-6 = #ff5555
bar-volume-gradient = true
bar-volume-indicator = "|"
bar-volume-fill = ─
bar-volume-empty = ─
; }}}

; Github {{{
[module/github]
type = internal/github

format = <label>

; Accessing an access token stored in file
;token = ${file:/path/to/file/containing/github/access.token}
; Accessing an access token stored in an environment variable
token = ${env:GITHUB_ACCESS_TOKEN}
; Whether empty notifications should be displayed or not
empty-notifications = false

;    
; Available tokens:
;   %notifications% (default)
; Default: Notifications: %notifications%
label =  %notifications%
; }}}

; Nvidia bbswitch {{{
[module/system-nvidia-bbswitch]
type = custom/script
exec = $HOME/.config/polybar/scripts/system-nvidia-bbswitch.sh
interval = 5
click-left = "optirun -b none nvidia-settings -c :8"
; }}}

; Info-tmux-sessions {{{
[module/info-tmux-sessions]
type = custom/script
exec = $HOME/.config/polybar/scripts/info-tmux-sessions.sh -n
interval = 5

click-left = $HOME/.config/polybar/scripts/info-tmux-sessions.sh -s
; click-right = $HOME/.config/polybar/scripts/info-tmux-sessions.sh -n
click-right = echo ""

format = <label>
format-foreground = ${colors.xcolor1}
format-background = ${colors.xcolor7}
; }}}

; Signal {{{
[module/signal]
; TODO
; }}}

; Mail {{{
[module/mail]
; TODO
; }}}
; }}}

; Not used {{{
; WLAN {{{
[module/wlan]
type = internal/network
interface = wlp2s0
interval = 3.0


format-connected = <label-connected>
label-connected = "直 %essid%"
label-connected-foreground = ${colors.xcolor1}
label-connected-background = ${colors.xcolor7}

;format-disconnected =
format-disconnected = <label-disconnected>
label-disconnected = 睊
label-disconnected-foreground = ${colors.xcolor1}
label-disconnected-background = ${colors.xcolor7}
; }}}

; ETH {{{
[module/eth]
type = internal/network
interface = enp3s0
interval = 3.0

;format-connected-underline = #55aa55
format-connected-prefix = " "
format-connected-prefix-foreground = ${colors.foreground-alt}
label-connected = %local_ip%

format-disconnected = <label-disconnected>
;format-disconnected-underline = ${self.format-connected-underline}
;label-disconnected = 
;label-disconnected-foreground = ${colors.foreground-alt}
; }}}

; Pulseaudio {{{
[module/pulseaudio]
type = internal/pulseaudio

format-volume = <label-volume> <bar-volume>
label-volume = VOL %percentage%%
label-volume-foreground = ${root.foreground}

label-muted = 🔇 muted
label-muted-foreground = #666

bar-volume-width = 10
bar-volume-foreground-0 = #55aa55
bar-volume-foreground-1 = #55aa55
bar-volume-foreground-2 = #55aa55
bar-volume-foreground-3 = #55aa55
bar-volume-foreground-4 = #55aa55
bar-volume-foreground-5 = #f5a70a
bar-volume-foreground-6 = #ff5555
bar-volume-gradient = false
bar-volume-indicator = |
bar-volume-indicator-font = 2
bar-volume-fill = ─
bar-volume-fill-font = 2
bar-volume-empty = ─
bar-volume-empty-font = 2
bar-volume-empty-foreground = ${colors.foreground-alt}


; }}}

; }}}

; [settings]
; screenchange-reload = true
;compositing-background = xor
;compositing-background = screen
;compositing-foreground = source
;compositing-border = over
;pseudo-transparency = false


; vim:ft=dosini
